<html><head>
		<title>Kabe</title>
		<style type="text/css">
			.tume{background-color: gray}
			#tabel1 {border: solid 1px black; border-collapse: collapse;}
			#tabel1 td{width: 25px; height: 25px}
		</style>
		<script>
			const ridu = 8;
			const veerge = 8;
			let meeleskoht = "";
			
			function looLaud() {
				var v = "<table id='tabel1'>";
				for (var rida = 0; rida<ridu; rida++) {
					v+= "<tr>";
					for (var veerg = 0; veerg<veerge; veerg++) {
						var klass = "";
						var sisu ="";
						var id ="k" + rida + veerg;
						if ((rida + veerg) % 2 == 1) {
							klass = 'tume';
							if (rida <= 2) {
								sisu = 'm';
							} 
							if (rida >= 5) {
								sisu = 'v';
							}
						}
						v+= "<td class='"+klass+"' onclick='vajutus(this)' id='"+id+"'>"+sisu+"</td>";
					}
					v+= "</tr>";
				}
				v+= "</tabel>";
				document.getElementById("lauakiht").innerHTML = v;
			}
			
			function vajutus(lahter) {
				//alert(lahter.className+" "+lahter.id);
				console.log(lahter.className+" "+lahter.id);
				if (meeleskoht == "") {
					meeleskoht = lahter.id;
				} else {
					if (lahter.innerHTML == "") {
						if (kasLubatudKaik(meeleskoht, lahter.id) {
							teeKaik(meeleskoht, lahter.id);
						} else {
							document.getElementById("teated").innerHTML = "Lubamatu k√§ik!";
						}
					}
				}
			}
			
			function kasLubatudKaik(koht1, koht2) {
				var rida1 = parseInt(koht1.substring(1, 2));
				var rida2 = parseInt(koht2.substring(1, 2));
				var veerg1 = parseInt(koht1.substring(2, 3));
				var veerg2 = parseInt(koht2.substring(2, 3));
				var sisu1 = document.getElementById(koht1).innerHTML;
				var sisu2 = document.getElementById(koht2).innerHTML;
				if (sisu == "v" && rida1-rida2 == 1 && Math.abs(veerg2 - veerg1) == 1) {
					retrun true;
				}
				return false;
			}
			
			function teeKaik(koht1, koht2) {
				document.getElementById(koht2).innerHTML = document.getElementById(meeleskoht).innerHTML;
				document.getElementById(meeleskoht).innerHTML = "";
				meeleskoht = "";
			}
		</script>
	</head>
	<body onload="looLaud();">
		<h1>Kabe</h1>
		<div id="lauakiht">
			
		</div>
		<div id="teated">
		</div>
	
</body></html>