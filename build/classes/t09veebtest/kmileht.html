<!doctype html>
<html>
  <head>
  <title>Korrutamine</title>
	<script>
	let xhr = new XMLHttpRequest();
	xhr.onreadystatechange=kuvaVastus;
	xhr.onreadystatechange=kuvaKmi;
	function kmiarvutus(){
		let p2ring="kaal="+document.getElementById("kast3").value+"&pikkus="+document.getElementById("kast4").value;
		xhr.open("GET", "kmi?"+p2ring, true);
		xhr.send(true);
	}
	function kuvaKmi(){
		if(xhr.readyState==4){
			document.getElementById("kmitulemus").innerHTML=xhr.responseText;
		}
		var kmitulemus=parseFloat(document.getElementById("kmitulemus").innerHTML);
		if (kmitulemus < 18.5 ) {
            document.getElementById("selgitus").innerHTML = "Alakaaluline";
        }
        else if (kmitulemus >= 18.5 && kmitulemus < 25) {
            document.getElementById("selgitus").innerHTML = "Normaalkaal";
        }
        else if (kmitulemus >= 25 && kmitulemus < 30) {
            document.getElementById("selgitus").innerHTML = "Ãœlekaaluline";
        }
        else if (kmitulemus >= 30) {
            document.getElementById("selgitus").innerHTML = "Rasvunud";
        }
	}
	
	function kuvaVastus(){
		if(xhr.readyState==4){
			document.getElementById("kmitulemus").innerHTML=xhr.responseText;
		}
	}
	</script>
	</head>
<body>
<img src="fatman.jpg" /><br />
  <input type="number" value="65" id="kast3" /> kg /
  <input type="number" value="181" id="kast4" /> cm
  <input type="button" value="Arvuta" id="annaKmi" onclick="kmiarvutus()" />
  <div id="kmitulemus">kmi tuleb siia</div>
  <div id="selgitus">selgitus tuleb siia</div>
</body>